# MyLoop - AIÃ—è‡ªå‹•åŒ–Ã—å…±å‰µ

**æ¬¡ä¸–ä»£ãƒ­ãƒ¼ãƒ³ãƒæ”¯æ´ã‚¢ãƒ—ãƒª**

MyLoopã¯ã€UTAGE/Lã‚¹ãƒ†ãƒƒãƒ—ã®å®Ÿé‹ç”¨ã§ä½¿ã†ã‚³ã‚¢æ©Ÿèƒ½ã‚’è»½é‡ã«å†æ§‹æˆã—ãŸã‚µãƒ–ã‚¹ã‚¯SaaSã§ã™ã€‚å€‹äººèµ·æ¥­å®¶ãŒè‡ªåŠ›ã§å°ç·šã‚’æ§‹ç¯‰ã§ãã‚‹ã‚ˆã†ã€AIæ”¯æ´ã¨è‡ªå‹•åŒ–ã‚’çµ„ã¿åˆã‚ã›ã¦ã„ã¾ã™ã€‚

## ğŸ¯ ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

- **AIæ”¯æ´**: Claude APIã«ã‚ˆã‚‹ã‚¹ãƒ†ãƒƒãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è‡ªå‹•ç”Ÿæˆã€åˆ†æãƒ¬ãƒãƒ¼ãƒˆ
- **è‡ªå‹•åŒ–**: LINEé€£æºã€äºˆç´„ç®¡ç†ã€ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã€ãƒ•ã‚¡ãƒãƒ«åˆ†æ
- **å…±å‰µ**: GitHub + Claude Codeã«ã‚ˆã‚‹å”åƒé–‹ç™º

## ğŸ“‹ ä¸»ãªæ©Ÿèƒ½ï¼ˆMVP Phase 1ï¼‰

### 1. LINEç™»éŒ²ã€œã‚¹ãƒ†ãƒƒãƒ—é…ä¿¡
- ç™»éŒ²ç›´å¾Œã€1æ—¥å¾Œã€3æ—¥å¾Œãªã©ã®æ—¥æ•°æŒ‡å®šé…ä¿¡
- ã‚¿ã‚°åˆ†å²ãƒ»å¤‰æ•°å·®è¾¼ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

### 2. äºˆç´„ç®¡ç†
- Google Calendaré€£æºã«ã‚ˆã‚‹ç©ºãæ™‚é–“æŠ½å‡º
- Zoomè‡ªå‹•ç™ºè¡Œã¨é€šçŸ¥
- LINEä¸Šã§ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ»å¤‰æ›´å¯¾å¿œ

### 3. é¡§å®¢DB + ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé€£æº
- Firestoreã«é¡§å®¢ãƒ‡ãƒ¼ã‚¿ä¿å­˜
- Google Sheetsã¸è‡ªå‹•åæ˜ 

### 4. ç°¡æ˜“ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- LPâ†’LINEâ†’äºˆç´„â†’æˆç´„ã®ãƒ•ã‚¡ãƒãƒ«KPIè¡¨ç¤º
- æ—¥æ¬¡ãƒ»é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆ

### 5. AIæ”¯æ´
- ã‚¹ãƒ†ãƒƒãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ–‡æ¡ˆã‚’è‡ªå‹•ç”Ÿæˆ
- å°†æ¥çš„ã«åºƒå‘Šåˆ†æã€CRMã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚‚æ‹¡å¼µ

## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js 14 (App Router), TypeScript, Shadcn UI, Tailwind CSS
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Firebase (Auth, Firestore, Functions, Scheduler)
- **é€£æºAPI**: LINE Messaging, Zoom, Google Calendar, Google Sheets
- **AI**: Claude API (ä¸»è¦), OpenAI API (ä»»æ„)
- **ãƒ†ã‚¹ãƒˆ**: Vitest, Playwright
- **é–‹ç™º**: TDD, ESLint, Prettier, Commitlint

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

\`\`\`bash
cp .env.example .env.local
\`\`\`

`.env.local`ã«ä»¥ä¸‹ã®å€¤ã‚’è¨­å®šï¼š
- Firebaseè¨­å®šï¼ˆAPI Key, Project ID, ãªã©ï¼‰
- LINE Messaging APIï¼ˆChannel ID, Secret, Access Tokenï¼‰
- Google OAuth & Calendar API
- Zoom API
- Claude API Key

### 2. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

\`\`\`bash
npm install
\`\`\`

### 3. Firebase Functions ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

\`\`\`bash
cd functions
npm install
cd ..
\`\`\`

### 4. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

\`\`\`bash
npm run dev
\`\`\`

ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:3000` ã‚’é–‹ã

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

\`\`\`
MyLoop/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                  # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (auth)/          # èªè¨¼é–¢é€£ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ dashboard/       # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ scenarios/       # ã‚·ãƒŠãƒªã‚ªç®¡ç†
â”‚   â”‚   â”œâ”€â”€ events/          # äºˆç´„ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ settings/        # è¨­å®š
â”‚   â”‚   â””â”€â”€ api/             # API Routes
â”‚   â”œâ”€â”€ components/          # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ lib/                 # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ firebase/        # Firebaseè¨­å®š
â”‚   â”‚   â”œâ”€â”€ line/            # LINE SDK
â”‚   â”‚   â”œâ”€â”€ google/          # Google APIs
â”‚   â”‚   â””â”€â”€ ai/              # AIçµ±åˆ
â”‚   â””â”€â”€ types/               # TypeScriptå‹å®šç¾©
â”œâ”€â”€ functions/               # Firebase Functions
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ line/            # LINE Webhook
â”‚       â”œâ”€â”€ scenarios/       # ã‚·ãƒŠãƒªã‚ªãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒãƒ£ãƒ¼
â”‚       â”œâ”€â”€ bookings/        # äºˆç´„ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼
â”‚       â””â”€â”€ ai/              # AIå‡¦ç†
â”œâ”€â”€ firestore-rules/         # Firestore Security Rules
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/               # å˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ e2e/                # E2Eãƒ†ã‚¹ãƒˆ
â””â”€â”€ public/                  # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
\`\`\`

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### å˜ä½“ãƒ†ã‚¹ãƒˆ
\`\`\`bash
npm run test
\`\`\`

### E2Eãƒ†ã‚¹ãƒˆ
\`\`\`bash
npm run test:e2e
\`\`\`

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- Firebase Authenticationã«ã‚ˆã‚‹èªè¨¼
- Firestore Security Rulesã§`ownerRef`ä¸€è‡´æ™‚ã®ã¿CRUD
- Secret Managerã«ã‚ˆã‚‹æ©Ÿå¯†æƒ…å ±ç®¡ç†
- ç›£æŸ»ãƒ­ã‚°ï¼ˆ`audit_logs`ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼‰

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

| ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ | ä¸»ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ |
|-------------|----------------|
| users | uid, name, email, roles |
| contacts | name, lineId, tags, status |
| scenarios | steps[], active |
| message_templates | body, variables[], channel |
| events | type, start, end, zoomUrl, status |
| funnels_daily | date, lpViews, lineRegs, bookings |

è©³ç´°ã¯ `src/types/firestore.ts` ã‚’å‚ç…§

## ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ¼ãƒ

- **ã‚«ãƒ©ãƒ¼**: ãƒŸãƒ³ãƒˆã‚°ãƒªãƒ¼ãƒ³ç³» (#66CC99ãƒ™ãƒ¼ã‚¹)
- **UI**: Shadcn UI + Tailwind CSS
- **ã‚³ãƒ³ã‚»ãƒ—ãƒˆ**: ã‚·ãƒ³ãƒ—ãƒ«ã§ç›´æ„Ÿçš„ãªUX

## ğŸ¤ é–‹ç™ºå‚åŠ ï¼ˆå…±å‰µãƒ¢ãƒ¼ãƒ‰ï¼‰

### Phase 2ä»¥é™ã§ç”Ÿå¾’å‚åŠ ã‚’äºˆå®š
- GitHub PRãƒ™ãƒ¼ã‚¹ã®å…±åŒé–‹ç™º
- Claude Codeã«ã‚ˆã‚‹è‡ªå‹•ç”Ÿæˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼æ”¯æ´
- ç®¡ç†ç”»é¢ `/admin/students` ã§é€²æ—è¡¨ç¤º

## ğŸ“… ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1 (MVP) - âœ… å®Œäº†
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ï¼ˆNext.js 14 + Firebaseï¼‰
- âœ… èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ï¼ˆFirebase Authï¼‰
- âœ… LINEé€£æºã¨ã‚¹ãƒ†ãƒƒãƒ—é…ä¿¡ï¼ˆWebhook + Dispatcherï¼‰
- âœ… ã‚·ãƒŠãƒªã‚ªç®¡ç†UIï¼ˆã‚¹ãƒ†ãƒƒãƒ—è¨­å®šï¼‰
- âœ… äºˆç´„ç®¡ç†UIï¼ˆã‚¤ãƒ™ãƒ³ãƒˆè¡¨ç¤ºãƒ»ãƒ•ã‚£ãƒ«ã‚¿ï¼‰
- âœ… ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆKPIè¡¨ç¤ºãƒ»ãƒ•ã‚¡ãƒãƒ«åˆ†æï¼‰
- âœ… AIæ–‡æ¡ˆç”Ÿæˆï¼ˆClaude APIçµ±åˆï¼‰
- âœ… é€£æºè¨­å®šï¼ˆLINE/Google/Zoom/Sheetsï¼‰
- âœ… ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆå¤‰æ•°å·®è¾¼ï¼‰
- âœ… Google SheetsåŒæœŸæ©Ÿèƒ½
- âœ… Firebase Functionsï¼ˆWebhook/Dispatcher/Reminderï¼‰

### Phase 2
- Meta/Googleåºƒå‘Šãƒ‡ãƒ¼ã‚¿çµ±åˆ
- é€±æ¬¡AIãƒ¬ãƒãƒ¼ãƒˆ
- CRMã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°

### Phase 3
- Stripeæ±ºæ¸ˆæ©Ÿèƒ½
- PWAåŒ–
- ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥

## ğŸ› ãƒã‚°å ±å‘Šãƒ»æ©Ÿèƒ½ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

GitHubã®Issuesã§ç®¡ç†

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Private (è²©å£²ç”¨SaaS)

---

**Made with â¤ï¸ by åŒ—æ‘ & å…±å‰µãƒãƒ¼ãƒ **
